const hamburgerBtn=document.getElementById("menu-btn"),navbar=document.getElementById("navbar"),nav=document.querySelector(".globalnav"),navList=document.querySelector(".globalnav__list"),navItems=[...document.querySelectorAll(".globalnav__item")],navItemsReversed=navItems.slice().reverse(),videoModalBtn=document.getElementById("video-modal-btn"),videoModal=document.getElementById("video-modal"),closeVideoModalBtn=document.getElementById("close-video-btn"),importantInfoBtn=document.getElementById("important-info-btn"),importantInfoBlock=document.getElementById("important-info"),collapseImportantInfoBtn=document.getElementById("collapse-important-info-btn"),sections=[document.getElementById("hero-slider"),...document.querySelectorAll("section")].reverse(),globalnavItems=[document.createElement("li"),...document.querySelectorAll(".globalnav__item")];let lastElementFocused,firstTabStop,lastTabStop,lastViewportWidth=window.innerWidth,navItemActiveIdx=0;function setDocHeight(){document.documentElement.style.setProperty("--vh",window.innerHeight/100+"px")}function resizeWindowHandler(){setDocHeight();const e=window.innerWidth;lastViewportWidth<992&&e>=992?navbar.classList.contains("mobile-navbar-expanded")?navList.classList.contains("is-visible")&&!importantInfoBlock.classList.contains("is-visible")?(document.body.classList.remove("lock-scroll"),nav.setAttribute("hidden",!0),hamburgerBtn.setAttribute("aria-expanded",!1),hamburgerBtn.classList.remove("is-active"),navList.classList.remove("is-visible"),navItems.forEach(e=>{e.classList.remove("is-visible")}),navbar.classList.remove("mobile-navbar-expanded"),navbar.removeEventListener("keydown",trapTabKey),hamburgerBtn.removeEventListener("click",closeMainMenu),hamburgerBtn.addEventListener("click",openMainMenu)):navList.classList.contains("is-visible")&&importantInfoBlock.classList.contains("is-visible")?(nav.setAttribute("hidden",!0),navList.style="",navList.classList.remove("is-visible"),navList.classList.remove("is-slided-down"),navbar.classList.remove("mobile-navbar-expanded"),navbar.classList.add("desktop-navbar-expanded"),navbar.removeEventListener("keydown",trapTabKey),hamburgerBtn.setAttribute("aria-expanded",!1),hamburgerBtn.classList.remove("is-active"),hamburgerBtn.removeEventListener("click",closeMainMenu),hamburgerBtn.addEventListener("click",openMainMenu)):(navbar.classList.remove("mobile-navbar-expanded"),navbar.classList.add("desktop-navbar-expanded")):nav.hasAttribute("hidden")&&nav.removeAttribute("hidden"):lastViewportWidth>=992&&e<992&&(navbar.classList.contains("desktop-navbar-expanded")&&(navbar.classList.remove("desktop-navbar-expanded"),navbar.classList.add("mobile-navbar-expanded")),nav.setAttribute("hidden",!0)),lastViewportWidth=e}function scrollHandler(){const e=sections.length-sections.findIndex(e=>window.scrollY>=e.offsetTop-100)-1;e!==navItemActiveIdx&&(globalnavItems[navItemActiveIdx].classList.remove("is-active"),globalnavItems[e].classList.add("is-active"),navItemActiveIdx=e)}function trapTabKey(e){9===e.keyCode&&(e.shiftKey?document.activeElement===firstTabStop&&(e.preventDefault(),lastTabStop.focus()):document.activeElement===lastTabStop&&(e.preventDefault(),firstTabStop.focus())),27===e.keyCode&&(navbar.classList.contains("mobile-navbar-expanded")?closeMainMenu():videoModal.classList.contains("is-hidden")||closeVideoModal())}function openMainMenu(){lastElementFocused=document.activeElement,hamburgerBtn.setAttribute("aria-expanded",!0),hamburgerBtn.removeEventListener("click",openMainMenu),hamburgerBtn.addEventListener("click",closeMainMenu);let e=document.querySelectorAll(".globalnav__item a");e=Array.prototype.slice.call(e),e.unshift(hamburgerBtn),firstTabStop=e[0],lastTabStop=e[e.length-1],navbar.addEventListener("keydown",trapTabKey),document.body.classList.add("lock-scroll"),hamburgerBtn.classList.add("is-active"),navbar.classList.add("mobile-navbar-expanded"),nav.removeAttribute("hidden");nav.offsetHeight;navList.classList.add("is-visible"),navItemsReversed.forEach((e,t)=>{setTimeout(()=>{e.classList.add("is-visible")},1e3*(t/15+.2))}),firstTabStop.focus()}function closeMainMenu(){setTimeout(()=>{nav.setAttribute("hidden",!0)},400),document.body.classList.remove("lock-scroll"),hamburgerBtn.setAttribute("aria-expanded",!1),hamburgerBtn.classList.remove("is-active"),navItems.forEach((e,t)=>{setTimeout(()=>{e.classList.remove("is-visible")},1e3*(t/10+.1))}),setTimeout(()=>{navbar.classList.remove("mobile-navbar-expanded")},200),setTimeout(()=>{navList.classList.remove("is-visible")},100),navbar.removeEventListener("keydown",trapTabKey),hamburgerBtn.removeEventListener("click",closeMainMenu),hamburgerBtn.addEventListener("click",openMainMenu)}function openVideoModal(){lastElementFocused=document.activeElement,videoModal.inert=!1;var e=videoModal.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable]');e=Array.prototype.slice.call(e),firstTabStop=e[0],lastTabStop=e[e.length-1],videoModal.addEventListener("keydown",trapTabKey),document.body.classList.add("lock-scroll"),videoModal.setAttribute("aria-hidden","false"),videoModal.classList.remove("is-hidden"),closeVideoModalBtn.addEventListener("click",closeVideoModal),firstTabStop.focus()}function closeVideoModal(){videoModal.removeEventListener("keydown",trapTabKey),closeVideoModalBtn.removeEventListener("click",closeVideoModal),document.body.classList.remove("lock-scroll"),videoModal.setAttribute("aria-hidden","true"),videoModal.classList.add("is-hidden"),lastElementFocused.focus(),videoModal.inert=!0}function expandImportantInfo(){lastElementFocused=document.activeElement,importantInfoBlock.inert=!1,importantInfoBtn.setAttribute("aria-expanded",!0),importantInfoBtn.removeEventListener("click",expandImportantInfo),importantInfoBtn.addEventListener("click",collapseImportantInfo),collapseImportantInfoBtn.addEventListener("click",collapseImportantInfo);var e=importantInfoBlock.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable]');e=Array.prototype.slice.call(e),firstTabStop=e[0],lastTabStop=e[e.length-1],importantInfoBlock.addEventListener("keydown",trapTabKey),navbar.classList.contains("mobile-navbar-expanded")?(navItemsReversed.forEach((e,t)=>{setTimeout(()=>{e.classList.remove("is-visible")},1e3*(t/10+.1))}),navList.classList.add("is-slided-down"),setTimeout(()=>{navList.style.display="none",importantInfoBlock.classList.remove("is-hidden"),importantInfoBlock.classList.add("is-visible")},450)):window.innerWidth>=992?(document.body.classList.add("lock-scroll"),navbar.classList.add("desktop-navbar-expanded"),importantInfoBlock.classList.remove("is-hidden"),importantInfoBlock.classList.add("is-visible")):(document.body.classList.add("lock-scroll"),navbar.classList.add("mobile-navbar-expanded"),importantInfoBlock.classList.remove("is-hidden"),importantInfoBlock.classList.add("is-visible")),importantInfoBlock.setAttribute("aria-hidden",!1),hamburgerBtn.setAttribute("hidden",!0),hamburgerBtn.classList.add("is-hidden"),firstTabStop.focus()}function collapseImportantInfo(){importantInfoBlock.removeEventListener("keydown",trapTabKey),collapseImportantInfoBtn.removeEventListener("click",collapseImportantInfo),importantInfoBtn.removeEventListener("click",collapseImportantInfo),importantInfoBtn.addEventListener("click",expandImportantInfo),navList.classList.contains("is-visible")?(setTimeout(()=>{navList.style="";navList.offsetHeight;navItems.forEach((e,t)=>{setTimeout(()=>{e.classList.add("is-visible")},1e3*(t/15+.2))}),navList.classList.remove("is-slided-down"),importantInfoBlock.classList.add("is-hidden"),hamburgerBtn.setAttribute("hidden",!1),hamburgerBtn.classList.remove("is-hidden")},300),importantInfoBlock.classList.remove("is-visible")):window.innerWidth>=992?(navbar.classList.remove("desktop-navbar-expanded"),setTimeout(()=>{importantInfoBlock.classList.add("is-hidden")},300),setTimeout(()=>{importantInfoBlock.classList.remove("is-visible")},100),hamburgerBtn.setAttribute("hidden",!1),hamburgerBtn.classList.remove("is-hidden"),document.body.classList.remove("lock-scroll")):(setTimeout(()=>{importantInfoBlock.classList.add("is-hidden"),hamburgerBtn.setAttribute("hidden",!1),hamburgerBtn.classList.remove("is-hidden")},300),navbar.classList.remove("mobile-navbar-expanded"),importantInfoBlock.classList.remove("is-visible"),document.body.classList.remove("lock-scroll")),importantInfoBlock.setAttribute("aria-hidden",!0),importantInfoBtn.setAttribute("aria-expanded",!1),lastElementFocused.focus(),importantInfoBlock.inert=!0}videoModal.inert=!0,importantInfoBlock.inert=!0,window.innerWidth>=992&&nav.hasAttribute("hidden")&&nav.removeAttribute("hidden"),setDocHeight(),window.addEventListener("orientationchange",setDocHeight),window.addEventListener("resize",resizeWindowHandler),window.addEventListener("scroll",scrollHandler),hamburgerBtn.addEventListener("click",openMainMenu),importantInfoBtn.addEventListener("click",expandImportantInfo),videoModalBtn.addEventListener("click",openVideoModal),function(){function e(e){return function(){const t=new Date;let n=new Date;return n.setDate(t.getDate()+(e-1-t.getDay()+7)%7+1),n}}const t=e(6),n=e(7),a=document.getElementById("callout-info-date");let s,o;const i=new Date;6===i.getDay()?(s=new Date(i),o=new Date(i),o.setDate(i.getDate()+1)):0===i.getDate()?(s=new Date(i),s.setDate(i.getDate()-1),o=new Date(i)):(s=new Date(t()),o=new Date(n())),s.getMonth()===o.getMonth()?a.textContent=`(${s.getDate().toString().padStart(2,"0")}-${o.getDate().toString().padStart(2,"0")}.${(s.getMonth()+1).toString().padStart(2,"0")})`:a.textContent=`(${s.getDate().toString().padStart(2,"0")}.${(s.getMonth()+1).toString().padStart(2,"0")}-${o.getDate().toString().padStart(2,"0")}.${(o.getMonth()+1).toString().padStart(2,"0")})`}(),function(){const e=Array.from(document.querySelectorAll(".hero-slider__slide"));let t=0,n=e.length-1;setInterval((function(){e[t].classList.remove("hero-slider__slide--active"),t===n?t=0:t++,e[t].classList.add("hero-slider__slide--active")}),6e3)}(),function(){const e=document.getElementById("testimonials-slider"),t=new Glider(e,{slidesToScroll:1,slidesToShow:1,draggable:!0,scrollLock:!0,rewind:!0,dots:"#dots",responsive:[{breakpoint:1200,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:992,settings:{slidesToShow:2,slidesToScroll:1}}]}),n=setInterval(()=>{t.scrollItem("next")},7e3);e.addEventListener("mouseover",e=>{null!=n&&(clearInterval(n),n=null)},300),e.addEventListener("mouseout",e=>{null==n&&(n=setInterval(()=>{t.scrollItem("next")},7e3))},300)}(),function(){const e=document.getElementById("partners-logos-slider"),t=new Glider(e,{slidesToScroll:1,slidesToShow:1,draggable:!0,scrollLock:!0,rewind:!0,responsive:[{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:576,settings:{slidesToShow:2,slidesToScroll:2}}]}),n=setInterval(()=>{t.scrollItem("next")},5e3);e.addEventListener("mouseover",e=>{null!=n&&(clearInterval(n),n=null)},300),e.addEventListener("mouseout",e=>{null==n&&(n=setInterval(()=>{t.scrollItem("next")},5e3))},300)}();